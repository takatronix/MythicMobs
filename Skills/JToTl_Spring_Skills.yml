
#共通
SMobsRemoveTarget:
  Skills:
  - delay 120
  - remove @self

SPlayerKnockback:
  Skills:
  - leap{velocity=-1000} @trigger
  - jump{velocity=0.2}


#大食らい
Sakura_Footballfish_Bite:
  Conditions:
  - targetwithin 25
  Skills:
  - delay 20
  - state{s=bite} @self
  - delay 20
  - potion{type=INCREASE_DAMAGE;duration=10;level=6;p=false} @self
  - lunge{v=1} @self


#火山
Sakura_Volcano_FromAttack:
  Skills:
  - skill{s=Sakura_Volcano_Attack} @target
  - CancelEvent

Sakura_Volcano_FromShoot:
  Skills:
  - skill{s=Sakura_Volcano_Fireball} @target
  - CancelEvent

Sakura_Volcano_FromTimer:
  Skills:
  - randomskill{skills=Sakura_Volcano_Snap,Sakura_Volcano_Rest,Sakura_Volcano_Firestorm}


Sakura_Volcano_Fireball:
  Conditions:
  - hastag{t=skillRunning} false
  Skills:
  - addtag{t=skillRunning} @self
  - state{s=fireball} @self
  - setAI{ai=false} @self
  - delay 7
  - projectile{onTick=SV_Fireball-Tick;onHit=SV_Firevall-Hit;v=18;i=1;syo=5;sfo=4;sso=2} @target
  - sound{s=entity.blaze.shoot;v=1;pitch=1.5}
  - delay 7
  - projectile{onTick=SV_Fireball-Tick;onHit=SV_Firevall-Hit;v=18;i=1;syo=5;sfo=4;sso=2} @target
  - sound{s=entity.blaze.shoot;v=1;pitch=1.5}
  - delay 7
  - projectile{onTick=SV_Fireball-Tick;onHit=SV_Firevall-Hit;v=18;i=1;syo=5;sfo=4;sso=2} @target
  - sound{s=entity.blaze.shoot;v=1;pitch=1.5}
  - delay 7
  - projectile{onTick=SV_Fireball-Tick;onHit=SV_Firevall-Hit;v=18;i=1;syo=5;sfo=4;sso=2} @target
  - sound{s=entity.blaze.shoot;v=1;pitch=1.5}
  - delay 7
  - projectile{onTick=SV_Fireball-Tick;onHit=SV_Firevall-Hit;v=18;i=1;syo=5;sfo=4;sso=2} @target
  - sound{s=entity.blaze.shoot;v=1;pitch=1.5}
  - delay 5
  - setAI{ai=true} @self
  - removetag{t=skillRunning} @self
SV_Fireball-Tick:
  Skills:
  - effect:particles{p=flame;amount=10;speed=0;hS=0.2;vS=0.2}
SV_Firevall-Hit:
  Skills:
  - damage{a=10}
  - ignite{t=2000}


Sakura_Volcano_Firestorm:
  Conditions:
  - hastag{t=skillRunning} false
  Skills:
  - addtag{t=skillRunning} @self
  - state{s=firestorm} @self
  - setAI{ai=false} @self
  - delay 74
  - projectile{onTick=SV_Firestorm-Tick;onHit=SV_Firestorm-HitAndEnd;onEnd=SV_Firestorm-HitandEnd;i=1;syo=8;v=40} @ring{radius=10;point=20}
  - projectile{onTick=SV_Firestorm-Tick;onHit=SV_Firestorm-HitAndEnd;onEnd=SV_Firestorm-HitandEnd;i=1;syo=10;v=40} @ring{radius=12;point=32}
  - projectile{onTick=SV_Firestorm-Tick;onHit=SV_Firestorm-HitAndEnd;onEnd=SV_Firestorm-HitandEnd;i=1;syo=12;v=40} @ring{radius=15;point=43}
  - delay 2
  - sound{s=entity.blaze.shoot;v=1;pitch=1.5} @playersinradius{r=30}
  - delay 2
  - sound{s=entity.blaze.shoot;v=1;pitch=1.5} @playersinradius{r=30}
  - delay 2
  - sound{s=entity.blaze.shoot;v=1;pitch=1.5} @playersinradius{r=30}
  - delay 20
  - setAI{ai=true} @self
  - removetag{t=skillRunning} @self
SV_Firestorm-Tick:
  Skills:
  - effect:particles{p=flame;amount=10;speed=0;hS=0.02;vS=0.02}
SV_Firestorm-HitAndEnd:
  Skills:
  - summon{mob=SVFirestormTarget}
SVFirestormTarget:
  Skills:
  - effect:particleline{particle=lava;xs=0.1;zs=0.1;amount=1;fromOrigin=true} @selfLocation{y=3.0}
  - damage{a=10;ia=true;type=VOID} @playersinradius{r=1}
  - damage{a=15} @playersinradius{r=1}
  - sound{s=entity.generic.explode;v=0.5} @playersinradius{r=10}
  - remove @self

Sakura_Volcano_Attack:
  Conditions:
  - hastag{t=skillRunning} false
  Skills:
  - state{s=attack} @self
  - delay 10
  - sudoskill{s=SPlayerKnockback;cat=true} @target
  - damage{a=15} @target
  - ignite{t=12000}

Sakura_Volcano_Snap:
  Conditions:
  - hastag{t=skillRunning} false
  Skills:
  - addtag{t=skillRunning} @self
  - state{s=snap} @self
  - setAI{ai=false} @self
  - summon{mob=SVSnapTarget} @nearestplayer{r=50}
  - delay 24
  - setAI{ai=true} @self
  - removetag{t=skillRunning} @self
SVSnapTarget:
  Skills:
  - delay 17
  - effect:particleline{particle=lava;xs=1;zs=1;amount=3;fromOrigin=true} @selfLocation{y=4.0}
  - damage{type=VOID;a=2} @nearestplayer{r=50}
  - ignite{t=6000} @nearestplayer{r=50}
  - remove @self

Sakura_Volcano_Rest:
  Conditions:
  - hastag{t=skillRunning} false
  Skills:
  - addtag{t=skillRunning} @self
  - state{s=rest} @self
  - setAI{ai=false} @self
  - delay 28
  - summon{mob=Sakura_Tulip_Fairy}
  - delay 20
  - setAI{ai=true} @self
  - removetag{t=skillRunning} @self